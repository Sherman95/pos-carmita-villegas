.history-container {
    padding: 20px;
    max-width: 1100px;
    margin: 0 auto;
}

// SECCIÓN DE FILTROS SUPERIOR
.filters-section {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    margin-bottom: 25px;
    gap: 20px;

    .title-block {
        h2 { margin: 0; color: #4b1e3a; font-size: 1.8rem; }
        p { margin: 0; color: #666; }
    }

    .controls-block {
        display: flex;
        gap: 10px;
        align-items: center;
        flex-wrap: wrap;

        .filter-select { width: 150px; margin-bottom: -1.25em; }
        .date-range { width: 240px; margin-bottom: -1.25em; }
        
        .search-btn {
            height: 56px; // Misma altura que los inputs
            border-radius: 4px;
        }
    }
}

// TARJETAS DE RESUMEN (KPIs)
.summary-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 25px;

    .kpi-card {
        padding: 20px;
        display: flex;
        align-items: center;
        gap: 20px;
        
        .kpi-icon {
            width: 50px; height: 50px;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            mat-icon { font-size: 28px; width: 28px; height: 28px; }
        }

        .kpi-info {
            display: flex; flex-direction: column;
            span { color: #666; font-size: 0.9rem; }
            h3 { margin: 0; font-size: 1.5rem; font-weight: bold; color: #333; }
        }

        // Estilos específicos
        &.total {
            .kpi-icon { background: #e3f2fd; color: #1565c0; }
        }
        
        &.diff {
            &.ok .kpi-icon { background: #e8f5e9; color: #2e7d32; } // Verde
            &.warn .kpi-icon { background: #ffebee; color: #c62828; } // Rojo
            &.warn h3 { color: #c62828; }
        }
    }
}

// TABLA
.table-card { overflow: hidden; }
table { width: 100%; }

.date-col {
    display: flex; flex-direction: column;
    .main-date { font-weight: 500; color: #333; }
    .sub-date { font-size: 0.75rem; color: #888; }
}

.badge {
    padding: 4px 12px;
    border-radius: 16px;
    font-weight: bold;
    font-size: 0.85rem;
    
    &.perfect { background-color: #e8f5e9; color: #2e7d32; }
    &.loss { background-color: #ffebee; color: #c62828; }
    &.gain { background-color: #e3f2fd; color: #1565c0; }
}

.empty-state {
    padding: 60px 20px;
    text-align: center;
    color: #999;
    mat-icon { font-size: 48px; width: 48px; height: 48px; opacity: 0.5; margin-bottom: 10px; }
    p { margin: 0; font-size: 1.1rem; }
}

.fade-in { animation: fadeIn 0.4s ease-in; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

// Responsivo
@media (max-width: 768px) {
    .filters-section { flex-direction: column; align-items: flex-start; }
    .controls-block { width: 100%; }
    .filter-select, .date-range { width: 100% !important; }
}

// Agrega esto al final
.clickable-row {
    cursor: pointer;
    transition: background 0.2s;

    &:hover {
        background-color: rgba(75, 30, 58, 0.05); // Un toque suave de vino tinto al pasar mouse
    }

    &:active {
        background-color: rgba(75, 30, 58, 0.1);
    }
}