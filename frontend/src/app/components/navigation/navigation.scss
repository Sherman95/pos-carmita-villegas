// CONFIGURACIÓN DE LA BARRA
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 70px; // Altura cómoda
  background: linear-gradient(180deg, #4b1e3a 0%, #2e0e22 100%); // Tu color Vino Tinto
  display: flex;
  justify-content: space-around; // Distribuye los botones equitativamente
  align-items: center;
  padding-bottom: env(safe-area-inset-bottom); // Para iPhones nuevos
  z-index: 9000; // ¡Encima de todo!
  box-shadow: 0 -5px 20px rgba(75, 30, 58, 0.3); // Sombra morada suave
  border-top: 1px solid rgba(255,255,255,0.05);

  // ESTILO DE LOS BOTONES
  .nav-item {
    flex: 1; // Ocupar espacio igual
    height: 100%;
    min-width: auto; // Reset de Material
    padding: 0;
    border-radius: 0;
    color: rgba(255, 255, 255, 0.6); // Color inactivo (transparente)
    transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
    
    // Contenedor interno para alinear icono y texto
    ::ng-deep .mat-mdc-button-touch-target { display: none; } // Fix Material touch area
    
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 4px;

    .icon-container {
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 24px;
      transition: transform 0.2s;
      
      mat-icon {
        font-size: 24px;
        width: 24px; height: 24px;
      }
    }

    .label {
      font-size: 10px;
      font-weight: 500;
      letter-spacing: 0.5px;
      opacity: 0.8;
      transition: all 0.2s;
    }

    // --- ESTADO ACTIVO (SELECCIONADO) ---
    &.active {
      color: #ffffff; // Texto blanco brillante

      .icon-container {
        transform: translateY(-2px); // Sube un poquito
        
        // Efecto de brillo detrás del icono
        &::after {
          content: '';
          position: absolute;
          width: 35px; height: 35px;
          background: rgba(255, 255, 255, 0.15); // Círculo de luz
          border-radius: 50%;
          z-index: -1;
          animation: popIn 0.3s ease-out;
        }
      }

      mat-icon {
        color: #f8bbd0; // Icono Rosado Pastel (combina con el Vino)
      }

      .label {
        font-weight: 700;
        opacity: 1;
        color: #f8bbd0;
      }
    }
  }
}

// --- VERSIÓN PARA PC (Isla Flotante) ---
@media (min-width: 800px) {
  .bottom-nav {
    bottom: 20px; // Flota un poco arriba
    left: 50%;
    transform: translateX(-50%); // Centrado
    width: auto; // Ancho automático según contenido
    min-width: 400px;
    height: 65px;
    border-radius: 50px; // Píldora
    padding: 0 20px;
    justify-content: center;
    gap: 10px; // Espacio entre botones
    
    // Los botones en PC tienen bordes redondos
    .nav-item {
      border-radius: 20px;
      flex: 0 1 100px; // Ancho fijo por botón
      height: 50px;
      
      &.active {
        background: rgba(255,255,255,0.1); // Fondo suave al activo
      }
      
      .icon-container::after { display: none; } // Quitamos el círculo en PC
    }
  }
}

// ANIMACIÓN
@keyframes popIn {
  0% { transform: scale(0); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}