// VARIABLES DE COLOR (Tu marca)
$color-primary: #4b1e3a; // Vino Tinto
$color-bg: #f4f6f8;      // Gris muy suave para el fondo

// ==========================================
// 1. CONFIGURACIÃ“N GENERAL
// ==========================================
.home-container {
  display: flex;
  flex-direction: column;
  height: 100vh;
  background-color: $color-bg;
  overflow: hidden;
}

// ==========================================
// 2. HERO HEADER (CABECERA)
// ==========================================
.hero-section {
  flex: 0 0 auto;
  // Degradado elegante del Vino Tinto
  background: linear-gradient(135deg, $color-primary 0%, lighten($color-primary, 15%) 100%);
  color: white;
  padding: 30px 20px 45px; // Espacio extra abajo para el buscador
  border-bottom-left-radius: 35px;
  border-bottom-right-radius: 35px;
  text-align: center;
  box-shadow: 0 10px 20px rgba($color-primary, 0.2);

  .greeting {
    margin-bottom: 20px;
    h1 { font-size: 1.8rem; margin: 0; font-weight: 700; letter-spacing: -0.5px; }
    p { margin: 5px 0 0; opacity: 0.9; font-size: 0.95rem; font-weight: 300; }
  }

  // BUSCADOR FLOTANTE
  .search-container {
    max-width: 600px;
    width: 100%;
    margin: 0 auto -50px; // Hace que flote entre el header y el body
    position: relative;
    z-index: 10;

    .search-card {
      padding: 5px 15px;
      border-radius: 50px; // Completamente redondo
      display: flex;
      align-items: center;
      background: white;
      height: 60px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.08); // Sombra suave y difusa
      transition: transform 0.2s, box-shadow 0.2s;

      &:focus-within {
        transform: translateY(-2px);
        box-shadow: 0 12px 30px rgba($color-primary, 0.15);
      }
      
      .search-icon { color: $color-primary; margin-left: 5px; margin-right: 10px; }
      
      .pro-input {
        border: none;
        outline: none;
        flex: 1;
        font-size: 1.05rem;
        color: #333;
        background: transparent;
        height: 100%;
        &::placeholder { color: #aaa; }
      }

      .clear-btn { color: #999; }
    }
  }
}

// ==========================================
// 3. GRID DEL DASHBOARD (TARJETAS)
// ==========================================
.dashboard-grid {
  flex: 1;
  padding: 60px 20px 20px; // Padding top compensa el buscador flotante
  max-width: 900px;
  margin: 0 auto;
  width: 100%;
  overflow-y: auto; // Permite scroll si la pantalla es muy pequeÃ±a
  
  display: grid;
  grid-template-columns: repeat(2, 1fr); // 2 Columnas
  gap: 15px;
  align-content: start;

  // --- ESTILO BASE DE TARJETAS ---
  .dashboard-card {
    background: white;
    border-radius: 20px; // Bordes mÃ¡s redondeados
    padding: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.03);
    cursor: pointer;
    transition: all 0.2s ease-in-out;
    border: 1px solid rgba(0,0,0,0.02);
    
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    height: 110px; // Un poco mÃ¡s altas para elegancia
    position: relative;
    overflow: hidden;

    // Efecto Hover (Levantar)
    &:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.06);
    }
    &:active { transform: scale(0.98); }

    h3 { 
      margin: 10px 0 0; 
      font-size: 0.95rem; 
      font-weight: 600; 
      color: #444; 
    }

    // El cÃ­rculo del icono
    .icon-box {
      width: 45px; height: 45px;
      border-radius: 50%; // CÃ­rculo perfecto
      display: flex; align-items: center; justify-content: center;
      transition: transform 0.2s;
      mat-icon { font-size: 24px; width: 24px; height: 24px; }
    }

    // === ðŸŽ¨ TIPOS DE TARJETAS ===

    // 1. PUNTO DE VENTA (La Joya de la Corona)
    &.primary-action {
      grid-column: 1 / -1; // Ocupa todo el ancho
      background: linear-gradient(135deg, $color-primary 0%, #7b1fa2 100%);
      color: white;
      height: auto;
      min-height: 90px;
      flex-direction: row; // Horizontal
      justify-content: space-between;
      padding: 0 25px;

      .icon-box {
        background: rgba(255,255,255,0.2); // Cristal
        color: white;
        width: 50px; height: 50px;
      }

      .text-box {
        text-align: left; 
        flex: 1; 
        padding-left: 15px;
        h3 { color: white; font-size: 1.3rem; margin: 0; }
        p { margin: 2px 0 0; color: rgba(255,255,255,0.8); font-size: 0.85rem; }
      }

      .arrow { color: rgba(255,255,255,0.6); }
    }

    // 2. TARJETAS DE ACCIÃ“N (Caja y Gastos) - COLORES FUERTES
    &.action-card {
      color: white;
      h3 { color: white; }
      
      .icon-box {
        background: rgba(255,255,255,0.25); // Efecto cristal
        color: white;
      }
      
      // Naranja (Caja)
      &.accent { background: linear-gradient(135deg, #FF9800, #F57C00); }
      // Rojo (Gastos)
      &.error { background: linear-gradient(135deg, #ef5350, #d32f2f); }
    }

    // 3. TARJETAS DE GESTIÃ“N (Blancas con acentos de color)
    &.white-card {
      .icon-box { margin-bottom: 5px; }
      
      // Vino (CrÃ©ditos)
      &.wine .icon-box { background: #f3e5f5; color: $color-primary; }
      // Azul (Historial)
      &.info .icon-box { background: #e3f2fd; color: #1565c0; }
      // Verde (Reportes)
      &.success .icon-box { background: #e8f5e9; color: #2e7d32; }
      // Naranja suave (Clientes)
      &.warn .icon-box { background: #fff3e0; color: #ef6c00; }
    }
  }
}

// AJUSTES DE MATERIAL OVERLAY (Para el buscador dropdown)
::ng-deep .custom-scroll-panel {
  margin-top: 8px;
  border-radius: 16px !important;
  box-shadow: 0 5px 20px rgba(0,0,0,0.15) !important;
}

@media (max-width: 600px) {
    .dashboard-grid { gap: 10px; padding-top: 50px; }
    .hero-section .greeting h1 { font-size: 1.5rem; }
}